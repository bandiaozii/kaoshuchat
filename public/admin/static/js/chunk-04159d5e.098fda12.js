(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-04159d5e"],{"0998":function(e,t,a){var i=a("12f4"),r=a("11e4"),s=a("d409"),n=a("3c2a"),o=a("e5b5").get,l=RegExp.prototype,c=TypeError;i&&r&&n(l,"dotAll",{configurable:!0,get:function(){if(this!==l){if("RegExp"===s(this))return!!o(this).dotAll;throw c("Incompatible receiver, RegExp required")}}})},"24e3":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"2e04":function(e,t,a){"use strict";var i=a("2d29").PROPER,r=a("968d"),s=a("a30c"),n=a("8fde"),o=a("baf9"),l=a("bf52"),c="toString",p=RegExp.prototype,d=p[c],u=o((function(){return"/a/b"!=d.call({source:"a",flags:"b"})})),h=i&&d.name!=c;(u||h)&&r(RegExp.prototype,c,(function(){var e=s(this),t=n(e.source),a=n(l(e));return"/"+t+"/"+a}),{unsafe:!0})},"44c3":function(e,t,a){var i=a("12f4"),r=a("bf5d"),s=a("b303"),n=a("95df"),o=a("2fca"),l=a("80b0"),c=a("a6bf").f,p=a("1449"),d=a("6a5e"),u=a("8fde"),h=a("bf52"),f=a("47b0"),g=a("9d67"),m=a("968d"),v=a("baf9"),b=a("5169"),y=a("e5b5").enforce,_=a("8bf1"),x=a("3192"),w=a("11e4"),k=a("f715"),S=x("match"),R=r.RegExp,F=R.prototype,E=r.SyntaxError,C=s(F.exec),z=s("".charAt),T=s("".replace),D=s("".indexOf),I=s("".slice),M=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,$=/a/g,j=/a/g,O=new R($)!==$,V=f.MISSED_STICKY,L=f.UNSUPPORTED_Y,A=i&&(!O||V||w||k||v((function(){return j[S]=!1,R($)!=$||R(j)==j||"/a/i"!=R($,"i")}))),P=function(e){for(var t,a=e.length,i=0,r="",s=!1;i<=a;i++)t=z(e,i),"\\"!==t?s||"."!==t?("["===t?s=!0:"]"===t&&(s=!1),r+=t):r+="[\\s\\S]":r+=t+z(e,++i);return r},Y=function(e){for(var t,a=e.length,i=0,r="",s=[],n={},o=!1,l=!1,c=0,p="";i<=a;i++){if(t=z(e,i),"\\"===t)t+=z(e,++i);else if("]"===t)o=!1;else if(!o)switch(!0){case"["===t:o=!0;break;case"("===t:C(M,I(e,i+1))&&(i+=2,l=!0),r+=t,c++;continue;case">"===t&&l:if(""===p||b(n,p))throw new E("Invalid capture group name");n[p]=!0,s[s.length]=[p,c],l=!1,p="";continue}l?p+=t:r+=t}return[r,s]};if(n("RegExp",A)){for(var q=function(e,t){var a,i,r,s,n,c,f=p(F,this),g=d(e),m=void 0===t,v=[],b=e;if(!f&&g&&m&&e.constructor===q)return e;if((g||p(F,e))&&(e=e.source,m&&(t=h(b))),e=void 0===e?"":u(e),t=void 0===t?"":u(t),b=e,w&&"dotAll"in $&&(i=!!t&&D(t,"s")>-1,i&&(t=T(t,/s/g,""))),a=t,V&&"sticky"in $&&(r=!!t&&D(t,"y")>-1,r&&L&&(t=T(t,/y/g,""))),k&&(s=Y(e),e=s[0],v=s[1]),n=o(R(e,t),f?this:F,q),(i||r||v.length)&&(c=y(n),i&&(c.dotAll=!0,c.raw=q(P(e),a)),r&&(c.sticky=!0),v.length&&(c.groups=v)),e!==b)try{l(n,"source",""===b?"(?:)":b)}catch(_){}return n},H=c(R),B=0;H.length>B;)g(q,R,H[B++]);F.constructor=q,q.prototype=F,m(r,"RegExp",q,{constructor:!0})}_("RegExp")},"63c5":function(e,t,a){},"85fa":function(e,t,a){"use strict";var i=a("607c"),r=a("f65d"),s=a("a30c"),n=a("dc58"),o=a("f129"),l=a("24e3"),c=a("8fde"),p=a("a2f3"),d=a("ccba");r("search",(function(e,t,a){return[function(t){var a=o(this),r=n(t)?void 0:p(t,e);return r?i(r,t,a):new RegExp(t)[e](c(a))},function(e){var i=s(this),r=c(e),n=a(t,i,r);if(n.done)return n.value;var o=i.lastIndex;l(o,0)||(i.lastIndex=0);var p=d(i,r);return l(i.lastIndex,o)||(i.lastIndex=o),null===p?-1:p.index}]}))},"94a4":function(e,t,a){"use strict";a("63c5")},b215:function(e,t,a){var i=a("12f4"),r=a("47b0").MISSED_STICKY,s=a("d409"),n=a("3c2a"),o=a("e5b5").get,l=RegExp.prototype,c=TypeError;i&&r&&n(l,"sticky",{configurable:!0,get:function(){if(this!==l){if("RegExp"===s(this))return!!o(this).sticky;throw c("Incompatible receiver, RegExp required")}}})},bf52:function(e,t,a){var i=a("607c"),r=a("5169"),s=a("1449"),n=a("4459"),o=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in o||r(e,"flags")||!s(o,e)?t:i(n,e)}},e382:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container",staticStyle:{padding:"0"}},[a("div",{staticClass:"search"},[a("p",[a("span",{staticClass:"label"},[e._v("注册时间：")]),a("el-date-picker",{staticStyle:{width:"340px"},attrs:{align:"right",type:"datetimerange",format:"yyyy-MM-dd HH:mm:ss","default-time":["00:00:00","23:59:59"],"range-separator":"至","start-placeholder":"时间开始","end-placeholder":"时间结束",size:"mini"},on:{change:e.dateChange},model:{value:e.search.date,callback:function(t){e.$set(e.search,"date",t)},expression:"search.date"}}),a("el-radio-group",{staticStyle:{"margin-left":"10px"},attrs:{size:"mini"},on:{change:e.dateTypeChange},model:{value:e.dateType,callback:function(t){e.dateType=t},expression:"dateType"}},[a("el-radio-button",{attrs:{label:"day0"}},[e._v("今天")]),a("el-radio-button",{attrs:{label:"day1"}},[e._v("昨天")]),a("el-radio-button",{attrs:{label:"day2"}},[e._v("前天")])],1)],1),a("p",[a("span",{staticClass:"label"},[e._v("用户ID：")]),a("el-input",{staticStyle:{width:"120px"},attrs:{type:"text",size:"mini",clearable:"",placeholder:"请输入用户id"},model:{value:e.search.user_id,callback:function(t){e.$set(e.search,"user_id",t)},expression:"search.user_id"}}),a("span",{staticClass:"label"},[e._v("昵称：")]),a("el-input",{staticStyle:{width:"160px"},attrs:{type:"text",size:"mini",clearable:"",placeholder:"请输入昵称"},model:{value:e.search.keyword,callback:function(t){e.$set(e.search,"keyword",t)},expression:"search.keyword"}})],1),a("p",[a("span",{staticClass:"label"},[e._v("类型：")]),a("el-radio-group",{attrs:{size:"mini"},model:{value:e.search.is_vip,callback:function(t){e.$set(e.search,"is_vip",t)},expression:"search.is_vip"}},[a("el-radio-button",{attrs:{label:"all"}},[e._v("全部")]),a("el-radio-button",{attrs:{label:"no"}},[e._v("普通用户")]),a("el-radio-button",{attrs:{label:"yes"}},[e._v("VIP会员")])],1)],1),a("p",{staticStyle:{"padding-top":"10px"}},[a("span",{staticClass:"label"}),a("el-button",{attrs:{type:"primary",icon:"el-icon-check",size:"mini"},on:{click:e.doSearch}},[e._v("筛选")]),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"default",plain:"",size:"mini"},on:{click:e.doInit}},[e._v("重置")])],1)]),a("div",{staticClass:"box-panel",staticStyle:{"padding-bottom":"10px","margin-bottom":"0"}},[a("el-table",{attrs:{data:e.dataList,stripe:"",size:"medium","header-cell-class-name":"bg-gray"}},[a("el-table-column",{attrs:{prop:"id",label:"用户ID",width:"80"}}),a("el-table-column",{attrs:{prop:"create_time",label:"注册时间",width:"160"}}),a("el-table-column",{attrs:{label:"头像昵称",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticStyle:{display:"flex","align-items":"center"}},[a("img",{staticStyle:{height:"24px","margin-right":"5px"},attrs:{src:t.row.avatar}}),e._v(" "+e._s(t.row.nickname)+" ")])]}}])}),a("el-table-column",{attrs:{prop:"phone",label:"手机号",width:"180"}}),a("el-table-column",{attrs:{label:"余额",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"mini"},nativeOn:{click:function(a){return a.preventDefault(),e.showRecharge(t.row.id)}}},[e._v(e._s(t.row.balance)+" 条")])]}}])}),a("el-table-column",{attrs:{label:"会员",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"mini"},nativeOn:{click:function(a){return a.preventDefault(),e.showVipForm(t.row.id,t.row.vip_expire_time)}}},[e._v(e._s(t.row.vip_expire_time||"未开通"))])]}}])}),a("el-table-column",{attrs:{label:"共消费",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.order_total)+" 元 ")]}}])}),a("el-table-column",{attrs:{label:"共提问",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.msg_count)+" 条 ")]}}])}),a("el-table-column",{attrs:{prop:"commission1",label:"推荐人"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.tuser?a("div",{staticStyle:{display:"flex","align-items":"center"}},[a("img",{staticStyle:{height:"24px","margin-right":"5px"},attrs:{src:t.row.tuser.avatar}}),e._v(" "+e._s(t.row.tuser.nickname)+" [ID: "+e._s(t.row.tuid)+"] ")]):e._e()]}}])})],1),a("div",{staticClass:"footer"},[a("div",{staticClass:"tongji"},[a("i",{staticClass:"el-icon-s-data text-green",staticStyle:{"font-size":"20px"}}),e._v(" 共 "),a("span",{staticClass:"text-green"},[e._v(" "+e._s(e.tongji.userCount)+" ")]),e._v(" 用户，余额 "),a("span",{staticClass:"text-danger"},[e._v(" "+e._s(e.tongji.userBalance)+" ")]),e._v(" 条 ")]),a("el-pagination",{attrs:{"current-page":e.page,"page-size":e.pagesize,layout:"total, prev, pager, next",total:e.dataTotal},on:{"current-change":e.pageChange}})],1)],1),e.rechargeForm?a("div",[a("el-dialog",{attrs:{"custom-class":"my-dialog",title:"余额充值",width:"480px",visible:!0,"close-on-click-modal":!1,"append-to-body":!0,"before-close":e.closeRecharge}},[a("el-form",{ref:"form",attrs:{model:e.rechargeForm,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"充值条数",prop:"num"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"填入整数",size:"small"},model:{value:e.rechargeForm.num,callback:function(t){e.$set(e.rechargeForm,"num",t)},expression:"rechargeForm.num"}}),a("span",{staticStyle:{color:"#666","margin-left":"10px"}},[e._v(" 条")]),a("p",{staticStyle:{color:"#999"}},[e._v("正数为增加，负数为减少")])],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"default",icon:"el-icon-close",size:"small"},on:{click:e.closeRecharge}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-check",size:"small"},on:{click:e.doRecharge}},[e._v("提 交")])],1)],1)],1):e._e(),e.vipForm?a("div",[a("el-dialog",{attrs:{"custom-class":"my-dialog",title:"设置vip会员时间",width:"480px",visible:!0,"close-on-click-modal":!1,"append-to-body":!0,"before-close":e.closeVipForm}},[a("el-form",{ref:"form",attrs:{model:e.vipForm,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"到期时间",prop:"vip_expire_time"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"留空则表示关闭会员","value-format":"yyyy-MM-dd",editable:"",clearable:""},model:{value:e.vipForm.vip_expire_time,callback:function(t){e.$set(e.vipForm,"vip_expire_time",t)},expression:"vipForm.vip_expire_time"}}),a("p",[e._v("留空表示关闭会员")])],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"default",icon:"el-icon-close",size:"small"},on:{click:e.closeVipForm}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-check",size:"small"},on:{click:e.setVipTime}},[e._v("提 交")])],1)],1)],1):e._e()])},r=[],s=(a("592a"),a("85fa"),a("e334"),a("3404"),a("44c3"),a("0998"),a("b215"),a("2e04"),a("c24f")),n={data:function(){return{dataList:[],dataTotal:0,page:1,pagesize:15,dateType:"",search:{date:[],user_id:"",is_vip:"all",keyword:""},tongji:{userCount:0,userBalance:0},rechargeForm:null,vipForm:null}},created:function(){this.doInit()},methods:{doInit:function(){this.dateType="",this.search={date:[],user_id:"",is_vip:"all",keyword:""},this.doSearch()},getList:function(){var e=this,t=Object.assign(this.search,{page:this.page,pagesize:this.pagesize});Object(s["h"])(t).then((function(t){e.dataList=t.data.list,e.dataTotal=t.data.count})),1===this.page&&Object(s["g"])(t).then((function(t){e.tongji=t.data}))},tableIndex:function(e){return this.pagesize*(this.page-1)+e+1},pageChange:function(e){this.page=e,this.getList()},doSearch:function(){this.page=1,this.getList()},dateChange:function(){this.dateType=""},dateTypeChange:function(){var e="",t=this.dateFormat(new Date,"yyyy-MM-dd"),a=this.dateFormat(new Date((new Date).setDate((new Date).getDate()-1)),"yyyy-MM-dd"),i=this.dateFormat(new Date((new Date).setDate((new Date).getDate()-2)),"yyyy-MM-dd");"day0"===this.dateType?e=t:"day1"===this.dateType?e=a:"day2"===this.dateType&&(e=i),this.search.date=[e+" 00:00:00",e+" 23:59:59"]},dateFormat:function(e,t){var a={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var i in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),a)new RegExp("("+i+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?a[i]:("00"+a[i]).substr((""+a[i]).length)));return t},showRecharge:function(e){this.rechargeForm={user_id:e}},closeRecharge:function(){this.rechargeForm=null},doRecharge:function(){var e=this;Object(s["c"])(this.rechargeForm).then((function(t){e.getList(),e.$message({message:t.message,type:"success",duration:1500}),e.closeRecharge()}))},showVipForm:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.vipForm={user_id:e,vip_expire_time:t}},closeVipForm:function(){this.vipForm=null},setVipTime:function(){var e=this;Object(s["l"])(this.vipForm).then((function(t){e.getList(),e.$message.success(t.message),e.closeVipForm()}))}}},o=n,l=(a("94a4"),a("3427")),c=Object(l["a"])(o,i,r,!1,null,"5ae66d7a",null);t["default"]=c.exports}}]);